# BP와 수수료 정책 이해하기

## 개요

[BP](../../../keywords/b/bp.md) 의 개념과 [BP](../../../keywords/b/bp.md)와 밀접한 연관이 있는 투표 시스템에 대하여 학습한다.

본격적인 학습에 앞서, 이오스의 합의 알고리즘에 대한 이해가 필요하다. 이 페이지에서 합의 알고리즘의 개념에 대해서 설명을 다루지는 않는다. 합의 알고리즘에 관한 내용은 인터넷에 검색을 하면 여러 자료들이 많으니 참고하도록 하자. 

이오스는 [DPOS](../../../keywords/d/dpos.md) 방식의 합의 알고리즘을 채택했다. 이오스의 TPS 비결은 합의 알고리즘 방식에 있다. 비트코인의 경우 HASH 값을 찾은 채굴자가 블록을 생성하기 때문에 전세계에 있는 불 특정 다수의 노드가 블록을 생성하고 검증하게 된다. 전 세계 노드의 네트워크들은 거미줄처럼 엮여져 있기 때문에 모든 노드가 동기화가 되기 에는 어느정도 시간이 필요하다. 그러나 이오스 같은 경우는 투표로 선출된 대표 노드가 블록을 생성하고, 나머지 노드는 블록을 생성하지 않는다. 대표 노드를 제외한 나머지는 신경을 쓸 필요가 없기 때문에 안정적으로 블록을 생성할 수 있어 블록 생성 속도도 향상되는 결과를 가져 온다.

여기서 투표로 선출된 대표 노드를 [BP](../../../keywords/b/bp.md) \( Block Producer \) 라고 부른다. 그리고 그외의 노드들을 Non-BP 혹은 그냥 풀노드라고 부른다. [BP](../../../keywords/b/bp.md#bp)가 되는 방법은 해당 링크를 참고

이오스 플랫폼 내에 계정이 있다면 누구나 BP 후보를 신청할 수 있다. BP 후보를 지원하게 되면 유권자로 부터 투표를 받을수 있게 되는데, 여기서 투표권을 얻는 방법은 [CPU](../../../keywords/c/cpu.md), [NET](../../../keywords/n/net.md) 자원의 Stake 총 합계 만큼 비례하여 얻는다. 투표를 받아 21위의 순위권 안에 들면 자동으로 블럭을 생성하는 노드가 된다.

## 수수료 정책 이해하기

블록체인 네트워크에서 수수료정책은 매우 민감한 문제다. 비트코인은 막대한 전기비를 지불하며 노드를 운영하고 있는데 수익이 없다면 누구도 운영을 하지 않을 것이다. 

탈중앙화 네트워크는 누군가는 비용을 지불해야 하고 누군가는 수입을 얻어야 한다. 모든 네트워크 참여자가 돈을 버는 유토피아와 같은 일은 절대 일어날 수 없다. 수수료가 없는 네트워크는 존재할 수 없다. 누군가는 노드를 운영 하여야 하고 서버를 돌리는데는 비용이 소모 되기 때문이다. \( 프라이빗 네트워크의 경우는 예외일 수 있다. \) 그렇다고 노드 운영자에게 많은 수입을 할당하게 되면, 누군가는 그 비용을 지불해야 하므로 네트워크를 이용하는 이용자들이 그 비용을 부담할 수 밖에 없을 것이다.

그래서 합리적인 수수료 비용을 책정하는것이 퍼블릭 블록체인에서 가장 어렵고 중요한 문제라고 할 수 있다. 사용자와 운영자 모두 합리적이라고 판단이 되어야 네트워크가 건전하게 운영될수 있기 때문이다. 그래서 각 블록체인의 수수료 정책을 들여 다 보면 이 블록체인은 오래 지속 가능한 블록체인인지 금방 알 수 있다. 그렇다면 이오스에서는 어떠한 수입과 비용이 발생하는지 한번 알아보자.

### 노드 운영자가 얻는 수입

* 총 발행된 이오스 토큰의 1% 만금 추가 발행하여 보상 받는다.

EOS Token 총 발행량 에서 1%만큼의 인플레이션으로 추가 발행하여 노드 운영자에게 분배한다.  이오스는 메인넷을 오픈할 때 총 10억개의 토큰을 발행하였다. 그 중 연 1% 수입을 얻는다. 다만 1년에 한번 수입을 받는건 아니고 하루에 한번씩 특정 커맨드 라인을 호출하면 금액을 받을 수 있다. 리워드를 받는 명령어는 [eosio.system](../../../keywords/e/eosio.system.md) 에서 확인하면 된다. 참고로  하루에 한번씩 갱신되는데, 리워드를 호출하는 명령을 실수로 하지 않았을 경우 그날 토큰을 보상해주지 않으니 주의해야 한다.

추가 인플레이션으로 발행된 1%를 각 노드 운영자에게 분배할때는 블록을 생성한 기여자에게 30%를, 투표를 받은 BP 에게 70%만큼 비율로 분배한다. 이는 BP 21위 안에 들지 못한 BP 후보를 배려하여 투표 보상 비율을 늘린 것이다.  그리고 블록을 생성한 21개의 BP들에게는 약간의 추가 보상을 더 받을 수 있다. 그래서 BP와  BP 후보간에 리워드 금액이 생각보다 꽤 차이가 나는 편이다. 

### 사용자가 지불하는 비용

* [CPU](../../../keywords/c/cpu.md), [NET](../../../keywords/n/net.md)를 Stake 하는 비용
* [RAM](../../../keywords/r/ram.md)을 구매할때 지불하는 수수료 비용 1%
* 계정 이름을 경매해서 낙찰 받을때 지불하는 비용

[CPU](../../../keywords/c/cpu.md)와 [NET](../../../keywords/n/net.md) 같은경우 비록 unStake를 하게 되면 전액 비용을 돌려 받긴 하지만, Stake를 함으로써 무분별한 토큰 유출을 막고 토큰의 가치를 상승시키는 효과가 있기 때문에 충분히 블록체인 네트워크 입장 미래를 위한 가치 투자 측면에서 비용이라고 인정할 만한 부분이다. 그리고 [RAM](../../../keywords/r/ram.md) 매매시 발생되는 1%의 수수료 비용이 있다. 그리고 소소한 재미인데, 이오스 메인넷에서 계정을 생성하기 위해서는 반드시 12자리를 입력해야 하지만 계정 이름 경매에서 낙찰받은 계정은 글자 수 제한이 없다는 장점이 있다.

## 이오스의 종말?

이오스 메인넷의 토큰 총 발행수는 10억개이다. 그리고 최대 토큰 수량의 한도는 100억으로 정해져 있기 때문에 이를 초과하면 더이상 추가 발행이 되지 않는다는 점이다. 결국 총 발행량의 한도가 초과 되면 노드 운영자가 얻는 수입이 없어진다는 결말이 나온다. 물론 100억개 발행까지 매우 오랜 시간이 남아 있지만 언젠가는 그 시간에 도달 할 것이다. 아마 그때가 되면 하드포크를 해서 새로운 블록체인 버전으로 업그레이드를 한다거나 [BP](../../../keywords/b/bp.md) 들의 합의로 새로운 수수료 정책을 만들어서 변화를 할 가능성도 있다. 

