# smart contract

## 개요

직접 작성한 코드를 블록체인 플랫폼 위에서 실행할 수 있는 개념이다.

이더리움에서 최초로 도입된 개념이다. 블록체인 1세대인 비트코인에서는 단순히 화폐의 이동 기능밖에 없었다면 이더리움에서는 내가 작성한 코드가 블록체인 상에서 구현되어 화폐의 기능 뿐 아니라, 코드로 구현할 수 있는 모든 것을 가능하게 함으로써 본격적인 블록체인 새 시대를 열게 해준 개념이다.

이오스에서는 좀더 세분화 하여 2가지로 구분할 수 있다

* 일반 사용자가 직접 작성한  [`스마트 컨트랙트`](smart-contract.md) 
* 이오스안에 기본 내장 되어 있고 특수한 권한이 있어야만 실행 가능한 [`시스템 컨트랙트`](system-contract.md) 

일반 사용자가 구현한 스마트 컨트랙트의 경우  [DApp](../d/dapp.md) 을 구현하기 위한 보조적인 역할을 수행한다. 대표적인 기능으로는 블록체인 서버와 [DApp](../d/dapp.md) 간의 서로 통신을 위한 규약을 정의 하거나 신뢰성을 확보하기 위한 특수한 알고리즘 \( 대표적으로 랜덤 알고리즘 \) 을 스마트 컨트랙트 코드 내에 구현하여 내가 만든 [DApp](../d/dapp.md) 을 신뢰할 수 있도록 남에게 보여주는 역할을 한다. [시스템 컨트랙트](system-contract.md)의 개념은 해당 페이지에 들어가서 참고할 것.

참고로 이오스에서는 계정 생성, 화폐 발행 및 전달, BP 선출 및 투표 등 모든 기능이 스마트 컨트랙트로 구현 되어 있다. 

## EOS, Smart Contract, DApp의 관계

`플랫폼`은 다양한 `어플리케이션`을 구현하기 위한 골격에 해당한다. 우리가 잘 알고 있는 대표적인 `플랫폼`은  `iOS` `안드로이드`  가 있다. 그리고 해당 플랫폼 위에서만 동작하는  `어플리케이션`이 있다. `블록체인` 의 개념도 이와 다르지 않다.

* `EOS`  : 다양한 DAPP을 구현하기 위한 플랫폼이다.
* [`DApp`](../d/dapp.md) : 플랫폼 위에서 동작하는 분산 어플리케이션이다.
* [`smart contract`](smart-contract.md) : 일반적으로 DApp과 블록체인을 서로 연결 해 준다.

 `EOS` 플랫폼은 C++ 언어로 구현되어 있다. [`DApp`](../d/dapp.md) 은  Swift, JAVA, Nodejs 등 어플리케이션 용도에 따라 매우 다양한 언어로 구현되어 있다. [`smart contract`](smart-contract.md) 의 경우 코드는 C++로 작성하지만 내부적으로 [`WebAssembly`](../w/webassembly.md) 언어로 컴파일하여 사용한다. 

## 스마트컨트랙트는 웹어셈블리로 동작한다.

이오스에서 사용하는 스마트 컨트랙트 언어는 C++이 아니라 [WebAssembly](../w/webassembly.md) 이다.

스마트 컨트랙트 코드는 비록 C++으로 작성하지만 실제로는 C++ 으로 구성된 코드를 [WebAssembly](../w/webassembly.md) 으로 컴파일 하여 사용하기 때문에 [WebAssembly](../w/webassembly.md) 이라고 하는것이 정확한 표현이다. 여기서 사용하는 C++은 [WebAssembly](../w/webassembly.md) 언어로 사용하기 위한 도구일 뿐이다.

이오스 플랫폼 안에는 [WebAssembly](../w/webassembly.md) 를 동작할 수 있게 만들어 주는 VM이 내장 되어 있다. [v1.4.0](../../document/release-notes/v1.4.0.md) 이전 까지는 [binaryen](../b/binaryen.md) 을 사용했다. 그 이후 부터는 [wabt](../w/wabt.md) 를 사용한다.

